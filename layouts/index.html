<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang }}" dir="{{ .Params.direction }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ .Title }}</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=Montserrat:wght@400;700;900&display=swap');
        * { box-sizing: border-box; }
        
        :root {
            --primary: {{ .Site.Params.style_primary }};
            --bg: #f8fafc;
            --card-bg: #ffffff;
            --text: #0f172a;
            --text-muted: #64748b;
        }

        body { margin: 0; font-family: 'Montserrat', sans-serif; background: var(--bg); color: var(--text); }
        [dir="rtl"] body { font-family: 'Cairo', sans-serif; }
        
        /* Container */
        .portfolio-container { max-width: 1100px; margin: 0 auto; padding: 20px; }
        
        /* Sections General */
        section { margin-bottom: 80px; padding: 40px; background: var(--card-bg); border-radius: 20px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        h2.section-title { font-size: 2rem; color: var(--primary); margin-bottom: 30px; border-bottom: 2px solid #e2e8f0; padding-bottom: 10px; display: inline-block; }

        /* --- Hero Section --- */
        .hero-section { text-align: center; background: linear-gradient(135deg, var(--primary), #1e40af); color: white; padding: 60px 20px; }
        .profile-image { width: 180px; height: 180px; border-radius: 50%; border: 5px solid rgba(255,255,255,0.3); margin-bottom: 20px; object-fit: cover; }
        .hero-name { font-size: 2.5rem; margin: 10px 0; font-weight: 900; }
        .hero-tagline { font-size: 1.2rem; opacity: 0.9; }

        /* --- Skills Section --- */
        .skills-grid { display: flex; flex-wrap: wrap; gap: 15px; }
        .skill-tag { background: #eff6ff; color: var(--primary); padding: 10px 20px; border-radius: 50px; font-weight: bold; font-size: 0.9rem; border: 1px solid #dbeafe; }

        /* --- Education Section --- */
        .edu-item { margin-bottom: 20px; border-left: 4px solid var(--primary); padding-left: 20px; }
        [dir="rtl"] .edu-item { border-left: none; border-right: 4px solid var(--primary); padding-left: 0; padding-right: 20px; }
        .edu-degree { font-size: 1.2rem; font-weight: bold; margin: 0; }
        .edu-uni { color: var(--text-muted); margin: 5px 0; }
        .edu-year { font-size: 0.9rem; color: var(--primary); font-weight: bold; }

        /* --- Blog/Cases Section --- */
        .blog-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .blog-card { border: 1px solid #e2e8f0; border-radius: 15px; overflow: hidden; transition: 0.3s; }
        .blog-card:hover { transform: translateY(-5px); border-color: var(--primary); }
        .blog-content { padding: 20px; }
        .blog-title a { text-decoration: none; color: var(--text); font-weight: bold; font-size: 1.2rem; }
        .blog-read-more { display: inline-block; margin-top: 15px; color: var(--primary); font-weight: bold; text-decoration: none; }

        /* --- Contact --- */
        .contact-info p { font-size: 1.1rem; margin: 10px 0; }
        .contact-info i { color: var(--primary); width: 30px; }

        /* Lang Switcher */
        .lang-switch { position: absolute; top: 20px; right: 20px; background: rgba(0,0,0,0.2); padding: 5px 15px; border-radius: 20px; }
        [dir="rtl"] .lang-switch { right: auto; left: 20px; }
        .lang-switch a { color: white; text-decoration: none; font-weight: bold; font-size: 0.9rem; }
    </style>
</head>
<body>

    <div class="lang-switch">
        {{ range .Site.Home.AllTranslations }}
            {{ if ne .Lang $.Lang }}
                <a href="{{ .RelPermalink }}">{{ .Language.LanguageName }}</a>
            {{ end }}
        {{ end }}
    </div>

    <div class="portfolio-container">
        
        <section class="hero-section">
            <img src="{{ .Params.hero.profile_image }}" alt="Profile" class="profile-image">
            <h1 class="hero-name">{{ .Params.hero.name }}</h1>
            <p class="hero-tagline">{{ .Params.hero.tagline }}</p>
        </section>

        <section>
            <h2 class="section-title">{{ .Params.skills.title }}</h2>
            <div class="skills-grid">
                {{ range .Params.skills.list }}
                <span class="skill-tag">{{ . }}</span>
                {{ end }}
            </div>
        </section>

        <section>
            <h2 class="section-title">{{ .Params.education.title }}</h2>
            {{ range .Params.education.items }}
            <div class="edu-item">
                <h3 class="edu-degree">{{ .degree }}</h3>
                <p class="edu-uni">{{ .university }}</p>
                <span class="edu-year">{{ .year }}</span>
            </div>
            {{ end }}
        </section>

        <section>
            <h2 class="section-title">{{ if eq .Lang "ar" }}الحالات والمقالات{{ else }}Cases & Blog{{ end }}</h2>
            <div class="blog-grid">
                {{ range first 3 (where .Site.RegularPages "Section" "blog") }}
                <article class="blog-card">
                    <div class="blog-content">
                        <span style="font-size:0.8rem; color:#94a3b8"><i class="far fa-calendar"></i> {{ .Date.Format "Jan 2, 2006" }}</span>
                        <h3 class="blog-title"><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
                        <p>{{ .Summary | truncate 100 }}</p>
                        <a href="{{ .Permalink }}" class="blog-read-more">
                            {{ if eq $.Lang "ar" }}اقرأ المزيد{{ else }}Read More{{ end }} →
                        </a>
                    </div>
                </article>
                {{ end }}
            </div>
        </section>

        <section>
            <h2 class="section-title">{{ .Params.contact.title }}</h2>
            <div class="contact-info">
                <p><i class="fas fa-envelope"></i> {{ .Params.contact.email }}</p>
                <p><i class="fas fa-phone"></i> {{ .Params.contact.phone }}</p>
            </div>
        </section>

    </div>
</body>
</html>
